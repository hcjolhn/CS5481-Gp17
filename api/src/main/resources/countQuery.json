{
  "query": {
    "bool": {
      "must": [
        {
          "exists": {
            "field": "title_embedding"
          }
        },
        {
          "distance_feature": {
            "field": "date",
            "pivot": "7d",
            "origin": "now",
            "boost": 1000
          }
        }
      ],
      "should": [
        {
          "multi_match": {
            "query": %user_input%,
            "fields": [
              "title",
              "keywords^2",
              "category",
              "url"
            ],
            "type": "best_fields",
            "fuzziness": "AUTO"
          }
        },
        {
          "match_phrase": {
            "title": %user_input%
          }
        },
        {
          "text_expansion": {
            "title_embedding": {
              "model_id": ".elser_model_2_linux-x86_64",
              "model_text": %user_input%
            }
          }
        }
      ]
    }
  },
  "min_score": 30
}

